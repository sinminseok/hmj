
## 도메인 주도 설계 애그리거트 알아보기

----

### 애그리거트란?

애그리거트란 관련된 객체들을 모아 하나의 단위로 취급하는 개념이다.  
객체지향 프로그래밍에서 애그리거트는 객체간의 관계를 정의하는 방법 중 하나로, 논리적으로 관련된 객체들을 그룹화하여 하나의 묶음으로 나눈다.

애그리거트는 DDD 디자인 패턴에서 중요한 개념 중 하나로 애그리거트를 사용하여 복잡한 객체 간의 관계를 더 명확히 표현하고, 응용 프로그램의 유지 보수성과 
확장성을 높일 수 있다.

----

### 루트(ROOT) 애그리거트의 역할과 책임

루트 애그리거트는 애그리거트의 핵심적인 역할과 책임을 가지고 있으며, 애그리거트 내부의 모든 객체들은 애그리거트 루트 엔티티를 중심으로 관리된다.

*루트 애그리거트 주요 책임*
- 애그리거트 내부의 모든 객체들을 관리하고 제어한다.
- 애그리거트 루트 엔티티의 "불변성"을 보장한다.
- 애그리거트 루트 엔티티와 다른 객체간의 관계를 관리한다.
- 애그리거트 루트 엔티티를 통해 애그리거트 "전체"를 제어한다.

----

### 애그리거트의 불변성 유지와 캡슐화

애그리거트는 불변성을 유지하면서 캡슐화를 지켜야한다.

####불변성 유지

애그리거트의 상태는 루트 애그리거트를 통해 변경되어야 하며, 한번 생성된 애그리거트는 그 상태가 변하지 않는다.  
애그리거트의 내부 객체들도 마찬가지로 불변성을 유지해야 하고, 이를 통해 애그리거트는 내부 객체들이 외부에서 영향을 받디 않도록 보호하며 일관성을 유지할 수 있다.

#### 캡슐화

애그리거트 내부 객체들이 외부에서 직접 접근할 수 없도록 보호하는 것이다. 애그리거트의 내부 객체들은 애그리거트 루트 엔티티를 통해서만 접근할 수 있어야 하고, 이를 통해
애그리거트는 내부의 객체들을 외부에서 보호하면서 일관성을 유지할 수 있다.

이처럼 "불변성유지" 와 "캡슐화"를 지키는 이유는 애그리거트 내부 객체들을 외부로부터 보호하면서 일관성을 유지할 수 있다. 또한 객체간의 결합도도 낮춰 유지 보수와, 확장성을 높일 수 있다.
